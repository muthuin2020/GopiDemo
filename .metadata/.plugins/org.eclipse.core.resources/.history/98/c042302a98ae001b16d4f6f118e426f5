package com.pedgog.utilities;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Properties;

public class ConfigFileReader {

	private Properties prop;
	 private final String propertyFilePath= System.getProperty("user.dir") + "\\config\\LoginTest.properties";
	 
	public ConfigFileReader()
	{
		System.out.println("Calling Test name: " +new Exception().getStackTrace()[1].getClassName());
		
		String s=new Exception().getStackTrace()[1].getClassName();
		String testClassName=s.split("tests")[1].substring(1);
		
		System.out.println("--------------------- Running Test : "+testClassName+" -------------------");

		BufferedReader reader;
		 try {
		 reader = new BufferedReader(new FileReader(propertyFilePath));
		 prop = new Properties();
		 try {
		 prop.load(reader);
		 reader.close();
		 } catch (IOException e) {
		 e.printStackTrace();
		 }
		 } catch (FileNotFoundException e) {
		 e.printStackTrace();
		 throw new RuntimeException("Configuration.properties not found at " + propertyFilePath);
		 } 
	}
	
	public Properties getConfig()
	{	
		return prop;
	}
	}
	

