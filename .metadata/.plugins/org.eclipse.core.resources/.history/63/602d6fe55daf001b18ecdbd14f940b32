package com.pedgog.utilities;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Properties;

public class ConfigFileReader {

	private Properties prop;
	private String propertyFilePath;

	public ConfigFileReader() {
//		String testClassQualifiedName = new Exception().getStackTrace()[1].getClassName();
//		String testClassName = testClassQualifiedName.split("tests")[1].substring(1);
//
//		System.out.println(
//				"--------------------------------- Running Test : " + testClassName + " -------------------------");

		propertyFilePath = System.getProperty("user.dir") + "\\config\\" + "LoginTest" + ".properties";
		System.out.println("file path : "+propertyFilePath);
		
			FileInputStream fileInput;
			try {
				fileInput = new FileInputStream(new File(propertyFilePath));
				prop = new Properties();
				try {
					prop.load(fileInput);
					fileInput.close();
					
				} catch (IOException e) {
					System.out.println("problem loading config file");
					e.printStackTrace();
				}
			} catch (FileNotFoundException e) {
				System.out.println("problem loading config file1");
				e.printStackTrace();
		
				throw new RuntimeException("Configuration.properties not found at " + propertyFilePath);
			}
				
		System.out.println("config pwd : "+prop.getProperty("pwd"));
	}

	public Properties getConfig() {
		return prop;
	}
}
